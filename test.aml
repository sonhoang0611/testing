Type Model {
  name: String
  type: 'table' | 'query'
  label (optional): String // Display name in UI
  description (optional): String // Use this for documenting the model  description (optional): String // Use this for documenting the model  description (optional): String // Use this for documenting the model  description (optional): String // Use this for documenting the model
	owner (optional): String // The email of the owner
  data_source: String
  // TODO: NEED STRUCTURAL TYPING SUPPORT SO WE CAN ENFORCE THIS
  // REQUIRED WHEN type == 'table'
  table_name (optional): String
  // REQUIRED WHEN type == 'query'
  query (optional): Heredoc
  field (
    elem_type_as: 'field_type', // Accept two field types: measure and dimension
    elem_name_as: 'name1',
    multiple: true,
    unique_elem_name // Field name has to be unique in the same model
  ) {
    label: String
    type: String
    // TODO: NEED NEW SYNTAX TO SUPPORT DEFAULT
    hidden (optional): Boolean // default: false
    description (optional): String
    definition: Heredoc
  }
}

Model public_activation_codes {
  name: 'Activation_codes'
  data_source: '123455'
  type: 'table'
  label: 'Activation code' // UPDATE: model.label
  table_name: '"public"."activation_codes"'
  description: 'desc ne' // UPDATE: model.description
  owner: 'admin@domain.com'

  // DELETE-START: model.fields.aanew_field
  dimension aanew_field {
    label: 'a brand newer field abdfsfsdf'
    type: 'string'
    definition: @sql {{ #SOURCE.new_field1 }};;
    hidden: false
  }
  // DELETE-END: model.fields.aanew_field
  

  // DELETE-START: model.fields.sum_activation_type
  dimension sum_activation_type {
    label: 'Sum Activation Type'
    type: 'string'
    definition: @sql sum({{ #THIS.activation_type }});;
    hidden: false
  }
  // DELETE-END: model.fields.sum_activation_type
  // ADD: model.fields

  // DELETE-START: model.fields.tennant_id
  dimension tenant_id { 
    label: 'TenantId2' // UPDATE: model.fields.tenant_id.label
    description: 'description ne' // UPDATE: model.fields.tenant_id.description
    type: 'number'
    definition: @sql {{ #SOURCE.tenant_id }};; // UPDATE: model.fields.tenant_id.definition
    hidden: false
  }
  // DELETE-END: model.fields.tennant_id

  // DELETE-START: model.fields.activatable_data
  dimension activatable_data  {
    label: 'Activitable data edited' // UPDATE: model.fields.activatable_data.label
    type: 'composite'
    description: 'description ne' // UPDATE: model.fields.activatable_data.description
    definition: @sql {{ #SOURCE.activatable_data4 }};; // UPDATE: model.fields.activatable_data.definition
    hidden: false
  }
  // DELETE-END: model.fields.activatable_data

  // DELETE-START: model.fields.settings
  dimension settings {
    label: 'Settings'  // UPDATE: model.fields.settings.label
    description: 'description ne' // UPDATE: model.fields.settings.description
    type: 'composite'
    definition: @sql {{ #SOURCE.settings }};; // UPDATE: model.fields.settings.definition
    hidden: false
  }
  // DELETE-END: model.fields.settings

  // DELETE-START: model.fields.expired_at
  dimension expired_at {
    label: 'Expired At'  // UPDATE: model.fields.expired_at.label
    description: 'description ne' // UPDATE: model.fields.expired_at.description
    type: 'datetime'
    definition: @sql {{ #SOURCE.expired_at }};; // UPDATE: model.fields.expired_at.definition
    hidden: false
  }
  // DELETE-END: model.fields.expired_at

  // DELETE-START: model.fields.code
  dimension code {
    label: 'Code'  // UPDATE: model.fields.code.label
    description: 'description ne' // UPDATE: model.fields.code.description
    type: 'text'
    definition: @sql {{ #SOURCE.code }};; // UPDATE: model.fields.code.definition
    hidden: false
  }
  // DELETE-END: model.fields.code

  // DELETE-START: model.fields.activatable_id
  dimension activatable_id {
    label: 'Activatable Id'   // UPDATE: model.fields.activatable_id.label
    description: 'description ne' // UPDATE: model.fields.activatable_id.description
    type: 'number'
    definition: @sql {{ #SOURCE.activatable_id }};; // UPDATE: model.fields.activatable_id.definition
    hidden: false
  }
  // DELETE-END: model.fields.activatable_id

  // DELETE-START: model.fields.created_at
  dimension created_at {
    label: 'Created At' // UPDATE: model.fields.created_at.label
    description: 'description ne' // UPDATE: model.fields.tenant_id.description
    type: 'datetime'
    definition: @sql {{ #SOURCE.created_at }};; // UPDATE: model.fields.created_at.definition
    hidden: false
  }
  // DELETE-END: model.fields.created_at

  // DELETE-START: model.fields.updated_at
  dimension updated_at {
    label: 'Updated At' // UPDATE: model.fields.updated_at.label
    description: 'description ne' // UPDATE: model.fields.updated_at.description
    type: 'datetime'
    definition: @sql {{ #SOURCE.updated_at }};; // UPDATE: model.fields.updated_at.definition
    hidden: false
  }
  // DELETE-END: model.fields.updated_at

  // DELETE-START: model.fields.activatable_type
  dimension activatable_type {
    label: 'Activatable Type' // UPDATE: model.fields.activatable_type.label
    description: 'description ne' // UPDATE: model.fields.activatable_type.description
    type: 'text'
    definition: @sql {{ #SOURCE.activatable_type }};; // UPDATE: model.fields.activatable_type.definition
    hidden: false
  }
  // DELETE-END: model.fields.activatable_type

  // DELETE-START: model.fields.activation_type
  dimension activation_type {
    label: 'Activation Type' // UPDATE: model.fields.activation_type.label
    description: 'description ne' // UPDATE: model.fields.activation_type.description
    type: 'text'
    definition: @sql {{ #SOURCE.activation_type }};; // UPDATE: model.fields.activation_type.definition
    hidden: false
  }
  // DELETE-END: model.fields.activation_type
}